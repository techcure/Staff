
<body>
    
{% extends 'base.html' %}

{% block content %}

<h2>STAFF</h2>

        <form id="myform" method="POST">
            {% csrf_token %}
            <div class="form-group">  
            <input type="text" class="form-control" id="question" placeholder="Add your questions" name="question">
            </div>
            <div class="select_class">
            <select class="form-control" name="subj" required>  
            <option value="Python" id="Python">Python</option>  
            <option value="JQuery" id="JQuery">JQuery</option> 
            <option value="HTML" id="HTML">HTML</option>
            </select>
            </div>
            <br>
            <div class="form-group">
            <textarea class="form-control" rows="5" id="answer" placeholder="Answer" name="answer"></textarea>
            </div>
            <div class="select_class">
            <select class="form-control" name="quetype" required>  
            <option value="Easy" id="Easy">Easy</option>  
            <option value="Medium" id="Medium">Medium</option> 
            <option value="Hard" id="Hard">Hard</option>
            </select>
            </div>
            <br>

            <p id="submitButton" style="border:solid black 2px; background: grey" class="btn btn-secondary"> Submit</p>
        </form>
<div id="output" class="container d-flex justify-content-between pt-1">

</body>
{% block javascript %}
<script type="text/javascript">
var token = document.getElementsByName("csrfToken").value;
$('#submitButton').click(function(){
  var NameForm = $('#myform');
  $.ajax({
      type: 'POST',
      url: "{%url 'index_view' %}",
      data: NameForm.serialize(),
      dataType: 'json',
      headers: {
            'X-CSRF-Token': token 
       },
      success: function(data, textStatus, jqXHR) {
        $('#output').html(data); 
      }
    });
});

</script>

{% endblock %}
{% endblock %}
      
<br><br>

</div>
</div>
</div>
</div>  
<footer class="container-fluid">
<p>Footer Text</p>
</footer>

</body>
</html>
